import copy
import ntpath
import os
import posixpath
import re
import subprocess
import sys
import gyp.common
import gyp.easy_xml as easy_xml
import gyp.MSVSNew as MSVSNew
import gyp.MSVSProject as MSVSProject
import gyp.MSVSSettings as MSVSSettings
import gyp.MSVSToolFile as MSVSToolFile
import gyp.MSVSUserFile as MSVSUserFile
import gyp.MSVSUtil as MSVSUtil
import gyp.MSVSVersion as MSVSVersion
from gyp.common import GypError
VALID_MSVS_GUID_CHARS = re.compile('^[A-F0-9\\-]+$')
generator_default_variables = {'EXECUTABLE_PREFIX': '', 'EXECUTABLE_SUFFIX': '.exe', 'STATIC_LIB_PREFIX': '', 'SHARED_LIB_PREFIX': '', 'STATIC_LIB_SUFFIX': '.lib', 'SHARED_LIB_SUFFIX': '.dll', 'INTERMEDIATE_DIR': '$(IntDir)', 'SHARED_INTERMEDIATE_DIR': '$(OutDir)obj/global_intermediate', 'OS': 'win', 'PRODUCT_DIR': '$(OutDir)', 'LIB_DIR': '$(OutDir)lib', 'RULE_INPUT_ROOT': '$(InputName)', 'RULE_INPUT_DIRNAME': '$(InputDir)', 'RULE_INPUT_EXT': '$(InputExt)', 'RULE_INPUT_NAME': '$(InputFileName)', 'RULE_INPUT_PATH': '$(InputPath)', 'CONFIGURATION_NAME': '$(ConfigurationName)', }
generator_additional_path_sections = ['msvs_cygwin_dirs', 'msvs_props']
generator_additional_non_configuration_keys = ['msvs_cygwin_dirs', 'msvs_cygwin_shell', 'msvs_large_pdb', 'msvs_shard', 'msvs_external_builder', 'msvs_external_builder_out_dir', 'msvs_external_builder_build_cmd', 'msvs_external_builder_clean_cmd']
precomp_keys = ['msvs_precompiled_header', 'msvs_precompiled_source']
cached_username = None
cached_domain = None
fixpath_prefix = None
quote_replacer_regex = re.compile('(\\\\*)"')
delimiters_replacer_regex = re.compile('(\\\\*)([,;]+)')
quote_replacer_regex2 = re.compile('(\\\\+)"')
MSVS_VARIABLE_REFERENCE = re.compile('\\$\\(([a-zA-Z_][a-zA-Z0-9_]*)\\)')
