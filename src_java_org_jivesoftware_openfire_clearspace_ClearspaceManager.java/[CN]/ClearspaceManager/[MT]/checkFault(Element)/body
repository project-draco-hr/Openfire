{
  Node node=response.selectSingleNode("ns1:faultstring");
  if (node != null) {
    String exceptionText=node.getText();
    int index=exceptionText.indexOf(":");
    String className;
    String message;
    if (index == -1) {
      className=exceptionText;
      message=null;
    }
 else {
      className=exceptionText.substring(0,index);
      message=exceptionText.substring(index + 2);
    }
    if (exceptionMap.containsKey(className)) {
      className=exceptionMap.get(className);
    }
    Exception exception;
    try {
      Class<?> exceptionClass=Class.forName(className);
      if (message == null) {
        exception=(Exception)exceptionClass.newInstance();
      }
 else {
        Constructor constructor=exceptionClass.getConstructor(String.class);
        exception=(Exception)constructor.newInstance(message);
      }
    }
 catch (    Exception e) {
      exception=new Exception(exceptionText);
    }
    throw exception;
  }
}
